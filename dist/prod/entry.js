"use strict";(()=>{var t={highlight:"color: red; font-weight: bold;",normal:"color: #000; font-weight: normal;"};var a="IS_DEBUG_MODE";window.IS_DEBUG_MODE=E();window.setDebugMode=o=>{localStorage.setItem(a,o.toString())};function E(){let o=localStorage.getItem(a);return!!(o&&o==="true")}var p=window.IS_DEBUG_MODE?"enabled":"disabled";console.log(`Debug mode is %c${p}`,t.highlight);console.log(`To ${window.IS_DEBUG_MODE?"disable":"enable"} debug mode and show debug logs, run %c\`window.setDebugMode(${window.IS_DEBUG_MODE?"false":"true"})\`%c in the console`,t.highlight,t.normal);var f={local:"Localhost",cdn:"CDN"},s="http://localhost:3000/",l="jsEnv";window.SCRIPTS_ENV=_();window.setScriptMode=o=>{if(o!=="local"&&o!=="cdn"){console.error("Invalid JS scripts environment. Pass %c`local`%c or %c`cdn`%c in the console",t.highlight,t.normal,t.highlight,t.normal);return}localStorage.setItem(l,o),window.SCRIPTS_ENV=o,console.log(`JS scripts environment successfully set to %c${f[o]}`,t.highlight)};function _(){let o=localStorage.getItem(l);if(o==="local"){let r=new AbortController,n=setTimeout(()=>r.abort(),150);fetch(s,{method:"HEAD",cache:"no-store",signal:r.signal}).catch(()=>{console.log("Localhost server is not available, switching to production mode"),localStorage.setItem(l,"cdn"),o="cdn",window.SCRIPTS_ENV="cdn"}).finally(()=>clearTimeout(n))}let e=o||"cdn";return console.log(`Current JS scripts environment: %c${e}`,t.highlight),b(e),e}function b(o){o==="cdn"?console.log('To serve JS files from localhost, run %c`window.setScriptMode("local")`%c in the console',t.highlight,t.normal):console.log('To switch to production mode, either run %c`window.setScriptMode("cdn")`%c in the console or turn off localhost dev server',t.highlight,t.normal)}function d(o=""){return`https://cdn.jsdelivr.net/gh/igniteagency/amplify-aus-webflow-site${o===""?"":`@${o}`}/dist/prod/`}window.PRODUCTION_BASE=window.location.hostname.includes("webflow.io")?d("dev"):d();var S=window.SCRIPTS_ENV==="local"?s:window.PRODUCTION_BASE;window.SCRIPT_BASE=S;window.loadScript=function(o,e,r){let n={placement:"body",name:void 0,...e},g={defer:"true",...r},c=o.startsWith("https://")?o:S+o;return document.querySelector(`script[src="${c}"]`)?Promise.resolve():new Promise((h,u)=>{let i=document.createElement("script");i.src=c,Object.entries(g).forEach(([m,w])=>{i.setAttribute(m,w)}),i.onload=()=>{n.name&&document.dispatchEvent(new CustomEvent(`scriptLoaded:${n.name}`,{detail:{url:c,name:n.name}})),h()},i.onerror=()=>u(new Error(`Failed to load script: ${c}`)),document[n.placement].appendChild(i)})};window.conditionalLoadScript=function(o,e){if(document.querySelector(o))return window.loadScript(e)};})();
