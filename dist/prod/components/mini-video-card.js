"use strict";(()=>{function m(t){if(!t)return t;let s=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,i=t.match(s);if(i)return`https://www.youtube.com/embed/${i[1]}`;let n=/(?:vimeo\.com\/)(\d+)/,e=t.match(n);return e?`https://player.vimeo.com/video/${e[1]}`:t}function v(){document.querySelectorAll('[data-el="mini-video-card"]').forEach(s=>{let i=s?.querySelector("dialog"),n=s?.querySelector("[data-video-src]"),e=n?.querySelector("iframe");if(!i||!n||!e)return;let c=n.getAttribute("data-video-src");if(!c)return;let o=m(c),r=o.includes("youtube.com"),a=o.includes("vimeo.com");window.addEventListener("load",()=>{let d;o.includes("youtube.com")?d=`${o}?enablejsapi=1&controls=0&rel=0&modestbranding=1&showinfo=0&fs=1`:o.includes("vimeo.com")?d=`${o}?api=1&controls=0&byline=0&portrait=0&title=0&background=1`:d=o,e.setAttribute("src",d)}),i.addEventListener("dialogOpen",()=>{r?e.contentWindow?.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):a&&e.contentWindow?.postMessage('{"method":"play"}',"*")}),i.addEventListener("dialogClose",()=>{r?e.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):a&&e.contentWindow?.postMessage('{"method":"pause"}',"*")})})}})();
